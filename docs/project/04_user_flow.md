# 04. User Flow Definition
**문서 버전:** 1.0  
**업데이트:** 2025-12-06  
**문서 목적:**  
- 사용자가 서비스를 사용할 때 겪게 될 전체 여정을 명확히 정의한다.  
- 기능별 UI 흐름, AI 개입 시점, 질문 흐름, 저장 구조를 상세하게 설명한다.  
- 디자이너/프론트엔드/백엔드/AI 엔지니어 모두가 이해 가능한 수준의 구체도를 유지한다.

---

# 1. 전체 User Journey 개요

사용자의 전체 경험은 다음 6단계로 구성된다.

1. **Onboarding – 역할/목표/프로젝트 생성**
2. **Home – 프로젝트 기반 성과 입력 진입점**
3. **Raw Input 작성 – 자유 텍스트 입력**
4. **AI Phase 1 – 이벤트 분해 및 Seed/Log/AchievementReady 분류**
5. **AI Phase 2 – 필요한 경우 질문(맥락 보완)**
6. **AI Phase 3 – PACRI 구조화 → 프로젝트에 저장**

이 6단계가 MVP의 핵심 가치 흐름이다.

---

# 2. Onboarding Flow (온보딩 흐름)

온보딩의 목적은 다음 세 가지다.

1. 사용자 직군을 파악하여 AI 질문에 반영  
2. 사용자가 진행 중인 프로젝트를 최소 1개 만들도록 유도  
3. 서비스의 목적을 명확하게 전달 (“성과는 쓰는 것이 아니라 수확되는 것입니다”)  

## 2.1 온보딩 단계 상세

### Step 1 — 역할 선택
- FE 개발자  
- BE 개발자  
- PM / PO  
- 프로덕트 디자이너  
- 데이터 분석가  
- 마케터  
- 기타(직접 입력)

**AI 사용 목적:**  
Phase 2 질문의 도메인 적합성을 높인다.

---

### Step 2 — “우리가 당신을 도울 수 있는 방식” 소개
짧고 감성적인 메시지:

> “당신의 하루는 금방 잊혀집니다.  
> 그러나 성과는 쌓여야 의미가 있습니다.  
> 이제 기록은 우리가 대신합니다.”

---

### Step 3 — 프로젝트 생성 (최소 1개)
사용자에게 질문:

> “지금 진행 중인 주요 프로젝트를 알려주세요.”

예시 폼:
- 프로젝트명
- 간단 설명 (선택)
- 역할 (선택)
- 진행 여부 (active/archive)

---

### Step 4 — 첫 입력 유도
온보딩 마지막 질문:

> “이번 주에 했던 일 중 기억해야 할 일이 있다면, 그냥 편하게 적어주세요.”

→ Raw Input Flow로 바로 연결됨.

---

# 3. Home Dashboard Flow

온보딩 이후 사용자가 보게 되는 메인 화면.

## 구성 요소

1. **[추가 버튼] 성과/업무 기록하기**
2. 현재 프로젝트 리스트
3. 최근 저장된 성과/Seed 타임라인
4. AI 추천 섹션 (예: “지난주 Seed 중 성과로 발전 가능성이 있는 2개 있어요”)

사용자는 다음 두 방식으로 기록할 수 있다.

### 방식 A — 프로젝트 먼저 선택 후 입력  
### 방식 B — 자유 입력 (일기 모드)  

---

# 4. Raw Input Flow (자유 입력 단계)

사용자는 한 번에 여러 문장을 자유롭게 입력할 수 있다.

이 입력은 그대로 **Phase 1 엔진**으로 전달된다.

---

# 5. AI Phase 1 Flow (Event Split + Classification)

AI가 수행하는 단계:

1. 입력 텍스트를 **이벤트 단위로 분해**  
2. 각 이벤트를 아래 3가지 상태로 분류  
   - achievement_ready  
   - needs_context  
   - not_achievement (Log)  
3. 각 이벤트에 대해 missing_info 배열 생성  
4. Seed 후보군 여부 결정  
5. 프로젝트 매핑이 필요한 경우 flag 설정

---

# 6. 프로젝트 매핑 Flow

Phase1 결과는 UI에서 다음 화면으로 이어진다.

### Step — 이벤트별 프로젝트 할당

- 멀티선택 가능
- 필요 시 프로젝트 즉시 생성 가능

---

# 7. AI Phase 2 Flow (맥락 보완 질문)

### 트리거 조건
- category = needs_context

### 정책
- 이벤트당 1개 질문  
- 답변 or “그만 질문하기” 선택  
- 불완전하면 draft로 저장  

---

# 8. AI Phase 3 Flow (PACRI 구조화)

수집된 정보를 기반으로:

- PACRI 구조 생성  
- Title 생성  
- Skill Tag 추출  
- Quality Score 계산  
- Outcome 저장  
- Seed 연결  

---

# 9. 저장 Flow

- AchievementReady → Outcome  
- NeedsContext → Outcome or Draft  
- NotAchievement → Log  
- 모든 Seed는 프로젝트별 seed box에 저장  

---

# 10. Final Feedback Flow

저장 후 사용자에게:

- PACRI 요약  
- 미리보기 카드  
- 포트폴리오 추가 옵션  
- 프로젝트 타임라인 업데이트  

---

# 11. 전체 흐름 다이어그램

(텍스트로 간략 표현)

---

# 12. MVP 제외 항목

- Vision 성과 자동화  
- 임팩트 ML  
- 프로젝트 간 Seed 자동 추천  
- 팀 협업 모드  

---

# 13. 다음 문서
→ docs/05_data_model.md
